(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ded5a09e"],{"5d6d":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isCover?a("VEmojiPicker",{on:{select:t.selectEmoji}}):t._e(),t.isTooltip?a("Tooltip",{attrs:{dat:t.dat}}):t._e(),a("div",{staticClass:"board-cover",style:t.coverBg}),a("div",{attrs:{id:"editor"}},[a("button",{staticClass:"n-btn board-cover-change",on:{click:t.getgrad}},[t._v(" Change Cover ")]),a("h1",{staticClass:"board-icon",attrs:{id:"init_cover"}},[a("span",{on:{click:t.togEmoji,mouseenter:function(e){return t.showTooltip(e,"Change Icon")},mouseleave:function(e){t.isTooltip=!1}}},[t._v(" "+t._s(t.boardData.meta.cover)+" ")])]),a("h2",{staticClass:"init_head",attrs:{id:"init_head",contenteditable:"true","data-text":"Untitled"},on:{paste:t.autoSave,input:t.autoSave,mouseenter:function(e){return t.showTooltip(e,"Change Title")},mouseleave:function(e){t.isTooltip=!1}}})])],1)},i=[],s=(a("99af"),a("7db0"),a("caad"),a("b0c0"),a("b64b"),a("2532"),a("2b0e")),r=a("1f24"),n=a("dd81"),c=a("9336"),d=a.n(c),u="https://prelinkjs.herokuapp.com/get-preview",l=u,h=a("79b5"),m=a("fd9b"),v=a.n(m),p=function(){return v()({luminosity:"light",count:4})},g=a("1e7c"),b=a("3ecd"),f=a("1c50"),k=a("71c0"),T=a("ac8c"),y=a("5d25"),S=a("2562"),C=a("a728"),_=a("e1ec"),B=a("0960"),D=a("3e21"),w=s["a"].extend({name:"Board",data:function(){return{editor:null,isSaved:!1,timeout:null,upStatus:"",dat:{},isTooltip:!1,isCover:!1,cover:"",coverBg:{},tempdata:{blocks:[{data:{level:6,text:"<mark class ='cdx-marker'>Guide/</mark>"},type:"header"},{data:{items:["<mark class ='cdx-marker'><b>Click anywhere to add content</b></mark>","<mark class ='cdx-marker'><b>Hit tab for block types</b></mark>","<mark class ='cdx-marker'><b>Saved automatically on typing! </b></mark>","<mark class ='cdx-marker'><b>Ctrl/Cmd + S to force save</b></mark>"],style:"ordered"},type:"list"}],version:"2.18.0"}}},components:{Tooltip:r["a"],VEmojiPicker:h["a"]},computed:{user:function(){return this.$store.getters.giveUser},boards:function(){return this.$store.getters.boards},boardData:function(){var t=this;return this.boards.find((function(e){return e.key===t.$route.params._slug}))?{data:this.boards.find((function(e){return e.key===t.$route.params._slug})).data,meta:this.boards.find((function(e){return e.key===t.$route.params._slug})).meta}:{data:this.tempdata,meta:{name:"Untitled",cover:"ðŸ”°",coverBg:{background:"linear-gradient(90deg, #71f7bd 25%, #e2a8f7 50%, #8077e5 75%)"}}}}},metaInfo:function(){return{title:"".concat(this.boardData.meta.cover,"  ").concat(this.boardData.meta.name)}},methods:{getgrad:function(){var t=p();this.coverBg={background:"linear-gradient(90deg, ".concat(t[1]," 25%, ").concat(t[2]," 50%, ").concat(t[3]," 75%)")},this.autoSave()},togEmoji:function(){this.isCover=!this.isCover},selectEmoji:function(t){this.cover=t.data,this.autoSave(),this.isCover=!1},showTooltip:function(t,e){var a=this;this.isTooltip=!0,this.dat={text:e,left:t.pageX,top:t.pageY},setTimeout((function(){a.isTooltip=!1}),1e3)},autoSave:function(){var t=this;this.upStatus="updating",this.$store.commit("setBoard",{id:this.$route.params._slug,status:this.upStatus}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.editor.save().then((function(e){var a=document.getElementById("init_head");n["b"].ref("/Users/".concat(t.user.data.uid,"/Boards/").concat(t.$route.params._slug)).update({meta:{name:a.innerText,stamp:Date.now(),cover:t.cover,coverBg:t.coverBg},data:e}).then((function(){t.isSaved=!0,t.upStatus="updated",t.$store.commit("setBoard",{id:t.$route.params._slug,status:t.upStatus})}))}))}),1e3)}},created:function(){var t=this;this.editor=new d.a({autofocus:!0,holder:"editor",tools:{header:{class:b,inlineToolbar:["link"],config:{placeholder:"Header"},shortcut:"CMD+SHIFT+H"},list:{class:k,inlineToolbar:!0,shortcut:"CMD+SHIFT+L",config:{placeholder:"Add a list!"}},checklist:{class:g,inlineToolbar:!0,config:{placeholder:"Add a checklist !"}},code:{class:T,shortcut:"CMD+SHIFT+C",config:{placeholder:"Add a code block!"}},linkTool:{class:f,config:{endpoint:l}},inlineCode:{class:y,shortcut:"CMD+SHIFT+M"},table:{class:S,inlineToolbar:!0,config:{rows:2,cols:3}},embed:C,quote:_,Marker:{class:B,shortcut:"CMD+SHIFT+M"},image:D},data:this.boardData.data,logLevel:"ERROR",onChange:function(){t.autoSave()}}),this.boards.find((function(e){return e.key===t.$route.params._slug}))?(this.isSaved=!0,this.upStatus="updated",this.$store.commit("setBoard",{id:this.$route.params._slug,status:this.upStatus})):this.$store.commit("setBoard",{id:this.$route.params._slug,status:"init"})},mounted:function(){var t=this;if(Object.keys(this.coverBg).includes("background")||void 0===this.boardData.meta.coverBg||void 0===this.coverBg){var e=p();this.coverBg={background:"linear-gradient(90deg, ".concat(e[1]," 25%, ").concat(e[2]," 50%, ").concat(e[3]," 75%)")},this.autoSave()}else this.coverBg=this.boardData.meta.coverBg;""===this.boardData.meta.cover||void 0===this.boardData.meta.cover||void 0===this.cover?(this.cover="ðŸ”°",this.autoSave()):this.cover=this.boardData.meta.cover;var a=document.getElementById("init_head");a.innerHTML=this.boardData.meta.name,this._keyListener=function(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t.autoSave())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeDestroy:function(){document.removeEventListener("keydown",this._keyListener),this.editor.destroy()}}),$=w,E=(a("60dc"),a("2877")),x=Object(E["a"])($,o,i,!1,null,"e4256dd4",null);e["default"]=x.exports},"60dc":function(t,e,a){"use strict";var o=a("76dc"),i=a.n(o);i.a},"76dc":function(t,e,a){}}]);